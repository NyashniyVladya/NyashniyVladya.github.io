
# Ответы на вопросы и общая информация не в формате "вопрос-ответ".


___


## Общая информация.


1. ### Что это за проект такой.

    * <span class="notranslate">**Translator3000** </span>- автоматический переводчик игр (новелл), сделанных на движке Ren'Py, с лёгкой установкой и удобным интерфейсом.

    * Хотите почитать новеллу, а у неё нет перевода на Ваш язык?
        * Всё что Вам нужно - это скопировать файл<span class="notranslate"> **Translator3000.rpa** </span>в папку с игрой.
            * Подробнее о установке [здесь](./RU.md#с-чего-начать).

    * Более подробная информация о принципах работы и особенностях переводчика предоставлена в дальнейших разделах документации.


1. ### Ссылки.
    1. #### [<span class="notranslate">Discord </span>сообщество.](https://discord.gg/FqsQXNH6Fg)
        * Тут можно найти ссылку на последнюю актуальную версию, пообщаться с другими пользователями переводчика и поискать ответ на свой вопрос в соответствующем канале.
    1. #### [<span class="notranslate">Patreon.</span>](https://patreon.com/NyashniyVladya)
        * Тут можно поддержать автора проекта и скачать последнюю актуальную версию.
    1. #### [<span class="notranslate">Boosty.</span>](https://boosty.to/nyashniyvladya)
        * Аналогично&#160;[<span class="notranslate">Patreon</span>](https://patreon.com/NyashniyVladya), но для рублёвой валюты.


1. ### О версиях.

    * Существует две версии переводчика:

        1. #### Ознакомительная версия.
            * Скачать можно [здесь](https://github.com/NyashniyVladya/Translator3000).
            * Доступна для загрузки всем без исключения.
            * Версия с ограниченным функционалом, для ознакомления с переводчиком.

        1. #### Основная версия.

            * Подписаться и скачать можно на '[<span class="notranslate">Patreon</span>](https://www.patreon.com/NyashniyVladya?filters[tag]=new%20version)' и '[<span class="notranslate">Boosty</span>](https://boosty.to/nyashniyvladya?postsTagsIds=124156)'.
                * __*Подписчики '[<span class="notranslate">Patreon</span>](https://patreon.com/NyashniyVladya)' и '[<span class="notranslate">Boosty</span>](https://boosty.to/nyashniyvladya)' имеют абсолютно равные привелегии. Контент всегда дублируется на обоих площадках.*__

            * Распространяется по принципу [подписной модели](https://ru.wikipedia.org/wiki/Подписка).

            * Версия с полным функционалом, периодическими обновлениями и исправлениями.

            * #### ___Важно___:
                * Только последняя версия является поддерживаемой.
                * Так же, баг репорты принимаются только по последней актуальной версии.
                    * т.к. над переводчиком постоянно ведётся работа, ошибка, возникшая в более ранних версиях, может уже отсутствовать в более поздних.
                    * [Подробней о формате баг репортов](./RU.md#о-багах-и-ошибках).


1. ### С чего начать?

    * Вот Вы подписались на '[<span class="notranslate">Patreon</span>](https://patreon.com/NyashniyVladya)'/'[Boosty](https://boosty.to/nyashniyvladya)', скачали<span class="notranslate"> ___Translator3000.rpa___ </span>и не знаете что с ним делать. Сейчас объясню.

    1. Копируем файл в папку<span class="notranslate"> ___game___ </span>в директории игры, для которой нужен перевод.
    1. Запускаем игру.
    1. В левом верхнем углу появится окно графического интерфейса переводчика.
        * Настраиваем в нём нужные параметры.
        * Так же настройку можно провести через [настроечный файл](./RU.md#noveldir_translator3000_settingjson).
        * Подробнее на [странице описания параметров](../settingDescription/RU.md#описание-параметров).
    1. [Наслаждаемся игрой.](./RU.md#наилучший-оптимальный-для-комфортного-чтения-вариант-использования-следующий)


1. ### О режимах работы.

    * Переводчик может работать в двух режимах:

        1. #### Предварительное сканирование (т.н. прескан).
            * Предварительный перевод всех строк в игре и составление базы данных перевода, для нейтрализации "зависаний" в момент переключения строк.
            * При активации переводчик собирает все строки в игре, группирует и последовательно переводит.
            * Если в игре присутствуют динамические данные (имя игрока и пр.), их лучше ввести __до__ запуска предварительного сканирования.
                * Для корректного перевода строк где используется подстановка динамических значений.
            * Если новелла большая, процесс может занять продолжительное время.
            * При активированном режиме, предварительное сканирование перезапускается каждые 5 минут.
                * На случай, если появятся новые динамические данные.
                * Если в этом нет необходимости, приостановите прескан, после завершения работы.

        1. #### Перевод в реальном времени.
            * Основной режим работы.
            * Перевод происходит в момент когда игра передаёт строку на вывод.
            * Если строки нет в базе данных переводов (ни разу не выводилась и не было прескана), будет неизбежное "подвисание", т.к. идёт обращение к сервису перевода.

    * #### Наилучший (оптимальный для комфортного чтения) вариант использования следующий:
        1. Запустить новеллу с **де**активированными параметрами '[<span class="notranslate">___prescanOnStartup___</span>](../settingDescription/RU.md#prescanonstartup-)' и '[<span class="notranslate">___realtimeTranslationOnStartup___</span>](../settingDescription/RU.md#realtimetranslationonstartup-)'.
        1. Дойти до места где игра запрашивает ввод имени/иных данных (если такое есть).
            * Если ввода данных нет, то просто запустить игру в любом месте.
        1. Ввести нужные данные (если требуется).
        1. Запустить предварительное сканирование соответствующим пунктом в графическом интерфейсе.
        1. Дождаться завершения.
            * В зависимости от размера новеллы, прескан может занять длительное время.
            * Если новелла очень большая, имеет смысл оставить игру переводиться и заняться чем либо иным до завершения перевода.
        1. Приостановить предварительное сканирование тем же пунктом.
        1. Запустить перевод в реальном времени.
        1. Скрыть графический перевод интерфейса и наслаждаться новеллой.

    * Крайне не рекомендуется использовать оба режима одновременно, т.к. это может вызвать сильные "зависания".


1. ### О базе данных.

    * Любой текст, переведённый предварительным сканированием, либо в реальном времени, сохраняется в базу данных на устройстве пользователя.

    * #### Глобальная БД.
        * При первом запуске переводчика, создаётся общая (глобальная) база данных, которая хранит в себе переводы всех новелл, которые когда либо были переведены.

    * #### Локальная БД.
        * Помимо глобальной, для каждой новеллы создаётся своя (локальная) БД.

    * #### Импорт БД.
        * Если кто либо уже прошёл (либо перевёл пресканом) конкретную новеллу, он может поделиться своей БД (локальной, или глобальной).
        * Чтобы использовать перевод от другого человека, достаточно скопировать его базу данных в папку[<span class="notranslate"> ___imported translations___</span>](./RU.md#noveldirlocal-translationsservicenameimported-translations).
        * После запуска, игра импортирует перевод в локальную БД конкретной игры и глобальную БД.
        * После успешного импорта импортируемый файл удалится.
        * ___Важно:___
            * Как было указано ранее, перевод составляется с подстановкой введённых данных, так что, если составитель базы ввёл иные данные, то строки, содержащие эти данные, потребуется перевести под новый ввод.
        * Готовые БД можно найти в [___<span class="notranslate"> Discord </span>сообществе___](https://discord.gg/FqsQXNH6Fg).

    * #### Форматы БД.
        * Несмотря на то, что форматы БД менялись в процессе развития переводчика, импорт старых форматов работает.


1. ### О браузерной логике.

    * Некоторые сервисы используют для перевода действия в реальном браузере.
    * #### Для автоматизации используется связка '[<span class="notranslate">selenium</span>](https://www.selenium.dev)'/'[<span class="notranslate">chromedriver</span>](https://chromedriver.chromium.org/home)'.
    * #### Для корректной работы в ОС должен быть установлен [браузер<span class="notranslate"> Google Chrome</span>](https://www.google.com/chrome).
        * Поддерживаются версии новее 70.
            * Лучше, конечно, использовать последнюю.

    * #### Так как данная логика полностью имитирует действия пользователя (открытие страницы, нажатие кнопок, ввод текста), перевод занимает ощутимое время. Рекомендуется использовать __только__ с предварительным сканированием.

    * #### По умолчанию графическая часть браузера отключена.
        * При желании, её можно активировать. Подробнее в [документации настроечного файла](../settingDescription/RU.md#seleniumstartmode-)


1. ### Где что лежит и какие файлы создаёт/использует переводчик.

    * Будут использоваться следующие условные обозначения:

        * <span class="notranslate">___%UserName%___</span>:
            * Имя текущего пользователя.

        * <span class="notranslate">___%userprofile%___</span>:
            * Путь до домашней папки пользователя. Может быть разный на разных системах.
                * По умолчанию в Windows:
                    * <span class="notranslate">___С:\\Users\\%UserName%___</span>
                * По умолчанию в UNIX:
                    * <span class="notranslate">___/home/%UserName%___</span>
                * По умолчанию в Mac:
                    * <span class="notranslate">___/Users/%UserName%___</span>

        * <span class="notranslate">___%ServiceName%___</span>:
            * Название какого либо сервиса перевода.

        * <span class="notranslate">___%NovelDir%___</span>:
            * Директория игры.
                * Та в которой папки<span class="notranslate"> ___game___</span>,<span class="notranslate"> ___renpy___ </span>и исполняемый файл запуска.

    * Пути будут писаться в формате Windows (с обратными слешами), при необходимости смените на прямые.

    * Приведён полный список рабочих путей. В зависимости от использования переводчика, некоторых из них может не быть.

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database*__</span>:
        * Основная папка для хранения данных.

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database\\selenium*__</span>:
        * Основная папка модуля<span class="notranslate"> __selenium__</span>, отвечающего за браузерную логику.

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database\\selenium\\chromedriver*__</span>:
        * Папка с исполняемыми файлами<span class="notranslate"> __cromedriver__</span>, отвечающего за автоматизацию действий в браузере.
        * Содержит папки с номерами версий браузера, которые содержат папки с номерами версий<span class="notranslate"> ___chromedriver___</span>, которые содержат исполняемый файл<span class="notranslate"> ___chromedriver___</span>.

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database\\translator3000*__</span>:
        * Основная папка переводчика.

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database\\translator3000\\%ServiceName%*__</span>:
        * Папка с глобальной (для всех новелл) базой данных переводов конкретного сервиса.
        * Содержит папки с номерами версий базы данных, которые содержат файл базы данных ___translations___ (формат может быть различный).

    1. #### <span class="notranslate">__*%userprofile%\\vladya's projects database\\translator3000\\Ren'Py MuitiGame Data.pickle*__</span>:
        * Файл, хранящий данные переноса между играми и использованные шрифты.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000_setting.json*__</span>:
        * Файл с настройками переводчика для конкретной новеллы.
        * [Информация по содержанию файла.](../settingDescription/RU.md#описание-настроек-и-настроечного-файла)

    1. #### <span class="notranslate">__*%NovelDir%\\local translations*__</span>:
        * Папка с локальной (для конкретной новеллы) базой данных переводов конкретного сервиса.
        * Содержит папки с номерами версий базы данных, которые содержат файл базы данных<span class="notranslate"> ___translations___ </span>(формат может быть различный).
        * Так же содержит папку [<span class="notranslate">___imported translations___</span>](./RU.md#noveldirlocal-translationsservicenameimported-translations) для импорта готовых переводов.

    1. #### <span class="notranslate">__*%NovelDir%\\local translations\\%ServiceName%\\imported translations*__</span>:
        * Папка для импорта готовых переводов.
        * Инструкция по импорту переводов описана [выше](./RU.md#импорт-бд).

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data*__</span>:
        * Папка для рабочих файлов, для конкретной новеллы.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data*__</span>:
        * Папка для рабочих файлов, для конкретной новеллы.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data\\debug*__</span>:
        * Файлы для отладки работы переводчика.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data\\debug\\lastLog.log*__</span>:
        * Лог файл, описывающий действия переводчика.
        * Если включён параметр [<span class="notranslate">___\_debug_mode___</span>](../settingDescription/RU.md#_debug_mode-), в файл будет записываться полная информация, в противном случае только базовые данные и информация о ошибках.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data\\temp*__</span>:
        * Временные файлы переводчика.

    1. #### <span class="notranslate">__*%NovelDir%\\_translator3000Data\\temp\\cacert.pem*__</span>:
        * Файл сертификата для модуля<span class="notranslate"> ___requests___</span>.
        * Создаётся только в старых версиях Ren'Py.
            * В версиях Ren'Py, новее 7.4.0, модуль<span class="notranslate"> ___requests___ </span>[является частью движка](https://www.renpy.org/doc/html/changelog.html#renpy-7-4).

    1. #### <span class="notranslate">__*%NovelDir%\\game\\Translator3000.rpa*__</span>:
        * Сам переводчик.

    1. #### <span class="notranslate">__*%NovelDir%\\game\\translator3000_ingame_files*__</span>:
        * Папка с файлами переводчика, используемыми в новелле.

    1. #### <span class="notranslate">__*%NovelDir%\\game\\translator3000_ingame_files\\multigame_fonts*__</span>:
        * Папка куда будут копироваться шрифты из других новелл, при их выборе.

    1. #### <span class="notranslate">__*%NovelDir%\\game\\translator3000_ingame_files\\pc_fonts*__</span>:
        * Папка куда будут копироваться шрифты при выборе их в графическом интерфейсе из файлов компьютера.


1. ### О багах и ошибках.

    * Сообщения о ошибках принимаются только по последней актуальной версии.
        * [Подробнее можно ознакомиться здесь.](./RU.md#важно)

    * #### Что делать при возникновении ошибок:

        1. Проверить что у Вас [последняя версия переводчика](./RU.md#важно).

        1. Вопроизвести ситуацию на другой новелле и убедиться, что ошибка повторяется.
            * Если ошибка возникает в единственной новелле, читать [соответствующий пункт FAQ](./RU.md#игра-вставить-имя-игры-не-переводитсяне-запускаетсяработает-некорректно).

        1. Если ошибка возникает во время предварительного сканирования, нажать в графическом интерфейсе "Бросить трейсбек", для составления отчёта о ошибке.

        1. ##### Подготовить следующие данные, необходимые разработчику для отладки:

            1. Лог файл:
                * Как правильно записать лог файл:
                    1. Активируйте [режим отладки](../settingDescription/RU.md#_debug_mode-).
                    1. Дойдите до момента возникновения ошибки.
                * Где будет лежать лог файл?
                    * Читать [предыдущий раздел документации, с описанием путей](./RU.md#noveldir_translator3000datadebuglastloglog).

            1. Информацию о настройках.
                * Режим работы переводчика, сервис и т.д.

            1. Файл<span class="notranslate"> ___traceback.txt___ </span>лежащий в директории игры.
                * Если он имеется.

            1. Информацию о том, какие действия привели к ошибке.

            1. Если ошибка возникает с сервисом перевода с [браузерной логикой](./RU.md#о-браузерной-логике), установить параметр<span class="notranslate"> ___"default"___ </span>для пункта настройки [___"seleniumStartMode"___](../settingDescription/RU.md#seleniumstartmode-) и добавить в сообщение о ошибке информацию, повлияло ли это на работу.

            1. Любые дополнительные данные, которые сочтёте нужными в контексте данного вопроса.

        1. Ознакомиться с [этим разделом документации](./RU.md#я-не-нашёл-ответа-на-свой-вопрос-в-этой-документации) и, если на Ваш вопрос ещё не отвечали, задать его в канале вопросов.


    * Описание некоторых ошибок:

        * Тип ошибки будет написан в трейсбеке, перед описанием ошибки, либо в конце, после текста перевода.

        1. ##### <span class="notranslate">___ShadowBan___</span>:
            * Ошибка "теневого" бана. Может возникать у сервисов, которые распознали автоматизацию.
            * Возникает в случае долгого и последовательного перевода крайне больших новелл.

___


## Вопрос - ответ.


1. ### ___У меня "квадратики" вместо текста.___
    * Смените шрифт на другой, поддерживающий нужный Вам язык.
        * [Инструкция по установке шрифта.](../settingDescription/RU.md#font-)
        * ### ___Где я могу найти шрифты?___
            * По запросу "шрифты скачать" в любом поисковике.
        * Поддерживаются шрифты<span class="notranslate"> TrueType</span>/<span class="notranslate">OpenType</span>.


1. ### ___Игра \<вставить имя игры\> не переводится/не запускается/работает некорректно.___
    * Как сделана та или иная игра зависит от разработчика. В зависимости от реализации, могут быть конфликты в отдельных играх. Смиритесь. Здесь я ничего не могу поделать. Совместимость со всеми играми во вселенной реализовать, к сожалению, не получится.


1. ### ___Как вызвать графический интерфейс переводчика?___

    * Комбинация (одновременное нажатие) клавиш<span class="notranslate"> ***Alt***+***~*** </span>(тильда).

        1. #### Почему такой странный выбор?
            * Из за вопроса совместимости. Я стараюсь делать переводчик наиболее универсальным, а такую комбинацию вряд ли где будут использовать.
            1. #### Можно поменять?
                * Может быть, когда нибудь... На данный момент, насколько я знаю, ни разу не было конфликтов комбинаций с играми, а значит выбор верный.


1. ### Переводчик удаляет теги из оригинальной игры (курсив, жирный текст, цвет и прочее).

    * Есть такое. А ещё удаляет текстовые теги вида<span class="notranslate"> ***{w}***</span>/<span class="notranslate">***{nw}*** </span>и подобные.
    * Сделано это потому что теги нельзя экранировать при обращении к сервису перевода.
        * На<span class="notranslate"> ***"{color=...}"*** </span>сервис вполне может вернуть<span class="notranslate"> ***"{цвет=...}"***</span>, что, разумеется, приведёт к ошибке.
        * Можно, конечно, переводить частями (отрывок до тега, отрывок после него и т.д.), но в этом случае сильно пострадает качество самого перевода, т.к. слова переведутся без учёта всего контекста и будут не связаны между собой.
        * Я не вижу способа "безболезненно" сохранить теги, поэтому принял решение убрать их вообще.


1. ### А как запустить переводчик на ОС Android?

    * Без понятия. Переводчик я пишу под ПК версию. Под телефоны никогда не прогал и не умею этого делать.
    * Насколько я слышал, вроде бы существуют какие-то порты от сторонних разработчиков, но они не имеют никакого отношения к проекту. Пользуйтесь ими только на свой страх и риск.


1. ### ___Я не нашёл ответа на свой вопрос в этой документации.___
    * Посмотрите канал вопросов в [<span class="notranslate">Discord </span>сообществе](https://discord.gg/FqsQXNH6Fg) переводчика. Скорее всего, там уже отвечали на подобный вопрос.
    * Если ответа нет, то задайте свой вопрос там.
        * ___Именно на канале вопросов.___
            * ___Не в личных сообщениях автору переводчика.___
            * ___Не в личных сообщениях модератору.___
        * Задавая свой вопрос в личных сообщениях, Вы лишаете других возможности увидеть ответ, в случае возникновения у них подобных проблем и, помимо прочего, вынуждаете администратора/модератора несколько раз повторять одно и то же.
            * Что совершенно не весело.
            * Вот вообще ни разу.
            * Прям вообще.

        * Если Вы сообщаете о ошибке, не забудьте [приложить данные, необходимые для устранения ошибки](./RU.md#подготовить-следующие-данные-необходимые-разработчику-для-отладки).


1. ### ___Я всё ещё что-то не понял в этой документации. Можно, всё таки, написать Вам в личные сообщения/в мессенджер/на почту?___
    * Нет.


1. ### ___Но у меня...___
    * Нет.


1. ### ___Но...___
    * Нет.
